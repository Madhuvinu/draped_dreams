import{u as b,s as h,r as d,y as V,b as c,c as m,d as e,e as t,q as k,t as f,i as S,w as x,h as i,_ as p}from"./index-7c8e1384.js";import{a as P}from"./auth-6cbf1a49.js";import{_ as g}from"./TextInput-5bc7bf51.js";import{_ as D}from"./Button-4b79b8c6.js";const L={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},N={class:"max-w-md w-full space-y-8"},j={class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-purple-100"},q={class:"rounded-md shadow-sm -space-y-px"},B={key:0,class:"rounded-md bg-red-50 p-4"},C={class:"flex"},E={class:"flex-shrink-0"},$={class:"ml-3"},z={class:"text-sm font-medium text-red-800"},R={class:"absolute left-0 inset-y-0 flex items-center pl-3"},U={class:"text-center"},A={class:"text-sm text-gray-600"},H={__name:"Login",setup(I){const v=b(),y=h(),r=d(""),l=d(""),n=d(!1),o=d(""),_=async()=>{n.value=!0,o.value="";try{if(!r.value||!l.value){o.value="Please enter email and password";return}const a=await P.login(r.value,l.value);a.success?(await y.login(r.value,l.value),v.push("/products")):o.value=a.message}catch(a){o.value="Login failed. Please try again.",console.error("Login error:",a)}finally{n.value=!1}};return(a,s)=>{const w=V("router-link");return c(),m("div",L,[e("div",N,[e("div",null,[e("div",j,[t(p,{name:"shopping-bag",class:"h-6 w-6 text-purple-600"})]),s[2]||(s[2]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Draped Dreams ",-1)),s[3]||(s[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"},"Sign in to your account",-1))]),e("form",{class:"mt-8 space-y-6",onSubmit:k(_,["prevent"])},[e("div",q,[e("div",null,[s[4]||(s[4]=e("label",{for:"email-address",class:"sr-only"},"Email address",-1)),t(g,{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value=u)},null,8,["modelValue"])]),e("div",null,[s[5]||(s[5]=e("label",{for:"password",class:"sr-only"},"Password",-1)),t(g,{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password",modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=u=>l.value=u)},null,8,["modelValue"])])]),o.value?(c(),m("div",B,[e("div",C,[e("div",E,[t(p,{name:"alert-circle",class:"h-5 w-5 text-red-400"})]),e("div",$,[e("h3",z,f(o.value),1)])])])):S("",!0),e("div",null,[t(D,{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",loading:n.value},{default:x(()=>[e("span",R,[t(p,{name:"lock",class:"h-5 w-5 text-purple-500 group-hover:text-purple-400"})]),i(" "+f(n.value?"Signing in...":"Sign in"),1)]),_:1},8,["loading"])]),e("div",U,[e("p",A,[s[7]||(s[7]=i(" Don't have an account? ",-1)),t(w,{to:"/register",class:"font-medium text-purple-600 hover:text-purple-500"},{default:x(()=>[...s[6]||(s[6]=[i(" Register here ",-1)])]),_:1})])])],32)])])}}};export{H as default};
