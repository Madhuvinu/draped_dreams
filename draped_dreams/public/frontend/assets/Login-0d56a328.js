import{u as v,r as d,a as c,c as p,b as e,h as l,m as y,t as m,e as b,w,k as _}from"./index-39768e97.js";import{a as f,_ as h,c as i,b as V}from"./FeatherIcon-30aef5a7.js";const k={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},S={class:"max-w-md w-full space-y-8"},L={class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-purple-100"},N={class:"rounded-md shadow-sm -space-y-px"},P={key:0,class:"rounded-md bg-red-50 p-4"},j={class:"flex"},B={class:"flex-shrink-0"},D={class:"ml-3"},E={class:"text-sm font-medium text-red-800"},I={class:"absolute left-0 inset-y-0 flex items-center pl-3"},C={__name:"Login",setup($){const g=v(),r=d(""),o=d(""),n=d(!1),a=d(""),x=async()=>{n.value=!0,a.value="";try{if(!r.value||!o.value){a.value="Please enter email and password";return}const t=await V.login(r.value,o.value);t.success?(localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("isLoggedIn","true"),g.push("/dashboard")):a.value=t.message}catch(t){a.value="Login failed. Please try again.",console.error("Login error:",t)}finally{n.value=!1}};return(t,s)=>(c(),p("div",k,[e("div",S,[e("div",null,[e("div",L,[l(i,{name:"shopping-bag",class:"h-6 w-6 text-purple-600"})]),s[2]||(s[2]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Draped Dreams ",-1)),s[3]||(s[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"},"Sign in to your account",-1))]),e("form",{class:"mt-8 space-y-6",onSubmit:y(x,["prevent"])},[e("div",N,[e("div",null,[s[4]||(s[4]=e("label",{for:"email-address",class:"sr-only"},"Email address",-1)),l(f,{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value=u)},null,8,["modelValue"])]),e("div",null,[s[5]||(s[5]=e("label",{for:"password",class:"sr-only"},"Password",-1)),l(f,{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=u=>o.value=u)},null,8,["modelValue"])])]),a.value?(c(),p("div",P,[e("div",j,[e("div",B,[l(i,{name:"alert-circle",class:"h-5 w-5 text-red-400"})]),e("div",D,[e("h3",E,m(a.value),1)])])])):b("",!0),e("div",null,[l(h,{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",loading:n.value},{default:w(()=>[e("span",I,[l(i,{name:"lock",class:"h-5 w-5 text-purple-500 group-hover:text-purple-400"})]),_(" "+m(n.value?"Signing in...":"Sign in"),1)]),_:1},8,["loading"])])],32)])]))}};export{C as default};
